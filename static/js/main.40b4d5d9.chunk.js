(this["webpackJsonpsubreddit-app"]=this["webpackJsonpsubreddit-app"]||[]).push([[0],{31:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(17),s=r.n(a),o=r(10),i=r(3),d=r(16),u=r(2),l=r(11),b=r.n(l),j=r(14),m=r(8),f=window.reddit={};function p(e,t){return O(e,["after","before","count","limit","show"].concat(t=t||[]))}function h(e){return{fetch:function(){return x(v(e))}}}function O(e,t){var r={};e.params=e.params||{},t=t||[];for(var n=function(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&n!==t&&(r[n]=e[n]);return r},c=function(t){return"show"===t?function(){return e.params[t]="all",n(this,t)}:function(r){return e.params[t]=r,n(this,t)}},a=0;a<t.length;a++)r[t[a]]=c(t[a]);return r.fetch=function(){return x(v(e))},r}function v(e){var t="https://www.reddit.com/";if(void 0!==e.subreddit&&(t+="r/"+e.subreddit+"/"),t+=e.resource+".json",function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}(e.params).length>0){var r=[];for(var n in e.params)e.params.hasOwnProperty(n)&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(e.params[n]));t+="?"+r.join("&")}return t}function x(e){return new Promise((function(t,r){!function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){return t(n.response)},n.onerror=function(){if(void 0!==r)return r(n.response)},n.send()}(e,(function(e){t(JSON.parse(e))}),(function(e){return r(e)}))}))}f.hot=function(e){return p({subreddit:e,resource:"hot"})},f.top=function(e){return p({subreddit:e,resource:"top"},["t"])},f.controversial=function(e){return p({subreddit:e,resource:"controversial"},["t"])},f.new=function(e){return p({subreddit:e,resource:"new"})},f.about=function(e){return h({subreddit:e,resource:"about"})},f.random=function(e){return h({subreddit:e,resource:"random"})},f.info=function(e){return O({subreddit:e,resource:"api/info"},["id","limit","url"])},f.comments=function(e,t){return O({subreddit:t,resource:"comments/"+e},["comment","context","depth","limit","sort"])},f.recommendedSubreddits=function(e){return O({resource:"api/recommend/sr/"+e},["omit"])},f.subredditsByTopic=function(e){return h({resource:"api/subreddits_by_topic",params:{query:e}})},f.search=function(e,t){return O({subreddit:t,resource:"search",params:{q:e}},["after","before","count","limit","restrict_sr","show","sort","syntax","t"])},f.searchSubreddits=function(e){return p({resource:"subreddits/search",params:{q:e}})},f.popularSubreddits=function(){return p({resource:"subreddits/popular"})},f.newSubreddits=function(){return p({resource:"subreddits/new"})},f.aboutUser=function(e){return h({resource:"user/"+e+"/about"})};var g=f;function y(e){switch(e){case 404:return"Sorry, there aren\u2019t any communities on Reddit with that name.";default:return"Something went wrong..."}}var w=Object(m.b)("subreddit/fetchSubreddit",function(){var e=Object(j.a)(b.a.mark((function e(t){var r,n,c,a,s,o,i,d,u,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=void 0===r?"":r,c=t.sortBy,a=void 0===c?"hot":c,s=t.after,o=void 0===s?"":s,i=t.time,d=void 0===i?"":i,u=g[a](n).limit(25),d&&(u=u.t(d)),o&&(u=u.after(o)),e.next=6,u.fetch();case 6:return l=e.sent,""===o&&(l.data.reset=!0),e.abrupt("return",l.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=Object(m.c)({name:"subreddit",initialState:{listing:[],after:"",sortBy:"hot",sortTime:"day",status:"unload",errorMsg:""},reducers:{updateArticleVote:function(e,t){if(t.payload&&t.payload.id&&void 0!==t.payload.voteType){var r=JSON.parse(JSON.stringify(e.listing)),n=r.find((function(e){return e.id===t.payload.id}));n&&(n.ups=t.payload.voteCount,n.likes=t.payload.voteType,e.listing=r)}},updateSortBy:function(e,t){t.payload&&(e.sortBy=t.payload)},updateSortTime:function(e,t){t.payload&&(e.sortTime=t.payload)}},extraReducers:function(e){e.addCase(w.pending,(function(e){e.status="loading",e.errorMsg=""})).addCase(w.fulfilled,(function(e,t){e.status="loaded",t.payload.children&&t.payload.children.length?(t.payload.reset?e.listing=t.payload.children.map((function(e){return e.data})):e.listing=e.listing.concat(t.payload.children.map((function(e){return e.data}))),e.after=t.payload.after):t.payload&&t.payload.error?e.errorMsg=y(t.payload.error):e.errorMsg=y(404)})).addCase(w.rejected,(function(e,t){e.status="error",e.errorMsg=y(404)}))}}),N=_.actions,C=N.updateArticleVote,k=N.updateSortBy,T=N.updateSortTime,S=function(e){return e.subreddit.listing},M=function(e){return e.subreddit.after},I=function(e){return e.subreddit.sortBy},B=function(e){return e.subreddit.sortTime},A=function(e){return e.subreddit.status},P=function(e){return e.subreddit.errorMsg},E=_.reducer,H={article:{id:"",title:"",author:"",num_comments:0,created_utc:(new Date).getTime()/1e3,selftext_html:"",url:"",post_hint:"",ups:0,likes:null,is_reddit_media_domain:!1,is_self:!1,is_video:!1},status:"loading",errorMsg:""};function L(e){switch(e){case 404:return"No article found.";default:return"Something went wrong..."}}var R=Object(m.b)("article/fetchArticle",function(){var e=Object(j.a)(b.a.mark((function e(t){var r,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.articleId,n=t.subreddit,!r){e.next=6;break}return e.next=4,g.comments(r,n).limit(1).fetch();case 4:return c=e.sent,e.abrupt("return",c[0]?c[0].data:c);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V=Object(m.c)({name:"article",initialState:H,reducers:{updateSelectedArticle:function(e,t){t.payload&&(e.article=t.payload,e.status="loaded")},updateSelectedArticleVote:function(e,t){t.payload&&void 0!==t.payload.voteType&&t.payload.id===e.article.id&&(e.article.ups=t.payload.voteCount,e.article.likes=t.payload.voteType)}},extraReducers:function(e){e.addCase(R.pending,(function(e){e.status="loading",e.errorMsg=""})).addCase(R.fulfilled,(function(e,t){if(e.status="loaded",t.payload&&t.payload.children){var r=t.payload.children[0]?t.payload.children[0].data:{};e.article=r}else t.payload&&t.payload.error&&(e.errorMsg=L(t.payload.error))})).addCase(R.rejected,(function(e,t){e.status="error",e.errorMsg=L(404)}))}}),W=V.actions,q=W.updateSelectedArticle,D=W.updateSelectedArticleVote,J=function(e){return e.selectedArticle.article},z=function(e){return e.selectedArticle.errorMsg},$=function(e){return e.selectedArticle.status},U=V.reducer,Y="undefined"!==typeof window;function F(e){var t=e.element,r=e.useWindow;if(!Y)return{x:0,y:0};var n=(t?t.current:document.body).getBoundingClientRect();return r?{x:window.scrollX,y:window.scrollY}:{x:n.left,y:n.top}}function G(e,t,r,c,a){var s=Object(n.useRef)(F({useWindow:c})),o=null,i=function(){var t=F({element:r,useWindow:c});e({prevPos:s.current,currPos:t}),s.current=t,o=null};Object(n.useLayoutEffect)((function(){var e=function(){a?null===o&&(o=setTimeout(i,a)):i()};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),t)}r(31);var X=r(0),Z=[["hour","Hour"],["day","Today"],["week","This Week"],["month","This Month"],["year","This Year"],["all","All Time"]];var K=function(){var e=Object(u.c)(I),t=Object(u.c)(B),r=Object(u.b)();function c(e){if(e&&!e.currentTarget.classList.contains("sort-button__selected")){var t=e.currentTarget.getAttribute("name")||"";["hot","new","top"].includes(t)?r(k(t)):r(T(t)),a.current.classList.contains("hidden")||s()}}var a=Object(n.useRef)(null);function s(){a.current.classList.toggle("hidden")}return Object(X.jsxs)("div",{className:"sort-box",children:[Object(X.jsxs)("button",{className:"sort-button "+("hot"===e?"sort-button__selected":""),name:"hot",type:"button",onClick:c,children:[Object(X.jsx)("i",{className:"material-icons start-icon",children:"local_fire_department"}),Object(X.jsx)("span",{children:"Hot"})]}),Object(X.jsxs)("button",{className:"sort-button "+("new"===e?"sort-button__selected":""),name:"new",type:"button",onClick:c,children:[Object(X.jsx)("i",{className:"material-icons start-icon",children:"brightness_5"}),Object(X.jsx)("span",{children:"New"})]}),Object(X.jsxs)("button",{className:"sort-button "+("top"===e?"sort-button__selected":""),name:"top",type:"button",onClick:c,children:[Object(X.jsx)("i",{className:"material-icons start-icon",children:"leaderboard"}),Object(X.jsx)("span",{children:"Top"})]}),Object(X.jsxs)("div",{className:"sort-time-wrapper",children:[Object(X.jsxs)("button",{className:"sort-button "+("top"===e?"sort-button__selected":"hidden"),name:"time",type:"button",onClick:s,children:[Object(X.jsx)("span",{children:(Z.find((function(e){return e[0]===t}))||[])[1]}),Object(X.jsx)("i",{className:"material-icons",children:"expand_more"})]}),Object(X.jsx)("ul",{className:"sort-time-options hidden",ref:a,children:Z.map((function(e){return Object(X.jsx)("li",{className:"sort-time-option "+(t===e[0]?"sort-time-option__selected":""),name:e[0],onClick:c,children:e[1]},e[0])}))})]})]})},Q=r(9);function ee(e){var t=e.className;return Object(X.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 -20 512.171 552.171",style:{enableBackground:"new 0 0 512.171 552.171"},className:t,children:[Object(X.jsx)("g",{children:Object(X.jsx)("g",{children:Object(X.jsx)("path",{d:"M476.723,216.64L263.305,3.115C261.299,1.109,258.59,0,255.753,0c-2.837,0-5.547,1.131-7.552,3.136L35.422,216.64\r c-3.051,3.051-3.947,7.637-2.304,11.627c1.664,3.989,5.547,6.571,9.856,6.571h117.333v266.667c0,5.888,4.779,10.667,10.667,10.667\r h170.667c5.888,0,10.667-4.779,10.667-10.667V234.837h116.885c4.309,0,8.192-2.603,9.856-6.592\r C480.713,224.256,479.774,219.691,476.723,216.64z",fill:"transparent",stroke:"#878a8c",strokeWidth:"40"})})}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{})]})}function te(e){var t=e.className;return Object(X.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 -20 512.171 552.171",style:{enableBackground:"new 0 0 512.171 552.171"},className:t,children:[Object(X.jsx)("g",{children:Object(X.jsx)("g",{children:Object(X.jsx)("path",{d:"M479.046,283.925c-1.664-3.989-5.547-6.592-9.856-6.592H352.305V10.667C352.305,4.779,347.526,0,341.638,0H170.971\r c-5.888,0-10.667,4.779-10.667,10.667v266.667H42.971c-4.309,0-8.192,2.603-9.856,6.571c-1.643,3.989-0.747,8.576,2.304,11.627\r l212.8,213.504c2.005,2.005,4.715,3.136,7.552,3.136s5.547-1.131,7.552-3.115l213.419-213.504\r C479.793,292.501,480.71,287.915,479.046,283.925z",fill:"transparent",stroke:"#878a8c",strokeWidth:"40"})})}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{}),Object(X.jsx)("g",{})]})}function re(e,t){var r,n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(r=n.length-1;r>0&&!(e>=n[r].value);r--);return(e/n[r].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[r].symbol}r(33);function ne(e){var t=e.voteCount,r=e.voteStatus,c=e.articleId,a=Object(n.useState)(r),s=Object(Q.a)(a,2),o=s[0],i=s[1],d=Object(n.useState)(t),l=Object(Q.a)(d,2),b=l[0],j=l[1],m=Object(u.b)();function f(e){e.preventDefault();var t=b;if("upvote"===e.currentTarget.name)switch(o){case-1:t+=2,i(1),j(t),m(C({id:c,voteType:!0,voteCount:t})),m(D({id:c,voteType:!0,voteCount:t}));break;case 0:t+=1,i(1),j(t),m(C({id:c,voteType:!0,voteCount:t})),m(D({id:c,voteType:!0,voteCount:t}));break;case 1:t-=1,i(0),j(t),m(C({id:c,voteType:null,voteCount:t})),m(D({id:c,voteType:null,voteCount:t}))}else if("downvote"===e.currentTarget.name)switch(o){case-1:t+=1,i(0),j(t),m(C({id:c,voteType:null,voteCount:t})),m(D({id:c,voteType:null,voteCount:t}));break;case 0:t-=1,i(-1),j(t),m(C({id:c,voteType:!1,voteCount:t})),m(D({id:c,voteType:!1,voteCount:t}));break;case 1:t-=2,i(-1),j(t),m(C({id:c,voteType:!1,voteCount:t})),m(D({id:c,voteType:!1,voteCount:t}))}}return Object(n.useEffect)((function(){j(t)}),[t]),Object(X.jsxs)("div",{className:"vote "+(-1===o?"vote__downvoted":1===o?"vote__upvoted":""),children:[Object(X.jsx)("button",{className:"vote-btn",name:"upvote",onClick:f,children:Object(X.jsx)(ee,{className:"upvote__img"})}),Object(X.jsx)("div",{className:"vote-count",children:re(b,1)}),Object(X.jsx)("button",{className:"vote-btn",name:"downvote",onClick:f,children:Object(X.jsx)(te,{className:"downvote__img"})})]})}ne.defaultProps={voteCount:0,voteStatus:0,articleId:""};var ce=ne;function ae(e,t){var r=new Intl.RelativeTimeFormat("en",{style:"long"});if(isNaN(e)||isNaN(t))return r.format(0,"second");var n=6e4,c=36e5,a=864e5,s=2592e6,o=31536e6,i=e-t;return i<n?r.format(-Math.floor(i/1e3),"second"):i<c?r.format(-Math.floor(i/n),"minute"):i<a?r.format(-Math.floor(i/c),"hour"):i<s?r.format(-Math.floor(i/a),"day"):i<o?r.format(-Math.floor(i/s),"month"):r.format(-Math.floor(i/o),"year")}r(34);var se=function(e){var t=e.articleId,r=e.title,n=e.author,c=e.num_comments,a=e.created,s=e.selftext_html,o=e.url,i=e.ups,d=e.likes,u=e.is_reddit_media_domain,l=e.is_video,b=e.videoSrc,j=e.thumbnail,m=e.thumbnail_width,f=e.thumbnail_height;return Object(X.jsxs)("article",{className:"article",children:[Object(X.jsx)(ce,{voteCount:i,voteStatus:!0===d?1:!1===d?-1:0,articleId:t}),Object(X.jsxs)("div",{className:"article-details",children:[Object(X.jsxs)("div",{className:"posted-info",children:["Posted by u/",Object(X.jsx)("span",{className:"posted-by",children:n}),Object(X.jsxs)("span",{className:"posted-time",children:[" ",ae(new Date,new Date(1e3*a))]})]}),Object(X.jsx)("h1",{className:"article-title",children:r}),s?Object(X.jsx)("div",{className:"article-content",dangerouslySetInnerHTML:{__html:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}(s)}}):l?Object(X.jsx)("div",{className:"article-video-content",children:Object(X.jsxs)("video",{className:"article-video",autoplay:!0,controls:!0,children:[Object(X.jsx)("source",{src:b,type:"video/mp4"}),"Your browser does not support HTML video."]})}):u?Object(X.jsx)("div",{className:"article-img-content",children:Object(X.jsx)("img",{src:o,alt:r,className:"article-img"})}):Object(X.jsxs)("div",{className:"article-link-content",children:[o&&Object(X.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",children:o}),j&&Object(X.jsx)("img",{src:j,alt:"",className:"thumbnail-img",style:{width:m,height:f}})]}),Object(X.jsx)("div",{className:"actions-panel",children:Object(X.jsxs)("div",{className:"comments-summary",children:[Object(X.jsx)("i",{className:"material-icons action-icon",children:"chat_bubble_outline"}),c," Comment",c>1?"s":""]})})]})]})};r(35);function oe(){var e=Object(n.useState)(!0),t=Object(Q.a)(e,2),r=t[0],c=t[1];return G((function(e){e.currPos.y<-100?c(!1):c(!0)}),[]),Object(X.jsx)("button",{className:"scroll-top-btn"+(r?" hidden":""),onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},children:Object(X.jsx)("i",{className:"material-icons",children:"expand_less"})})}r(36);function ie(){return Object(X.jsx)("div",{className:"overlay",children:Object(X.jsx)("div",{className:"page-loader"})})}function de(){return Object(X.jsxs)("div",{className:"article",children:[Object(X.jsx)("div",{className:"section-loader box-loader"}),Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{className:"section-loader text-loader"}),Object(X.jsx)("div",{className:"section-loader text-loader"}),Object(X.jsx)("div",{className:"section-loader text-loader"})]})]})}r(37);var ue=function(){var e=Object(i.g)().subreddit,t=Object(u.c)(S),r=Object(u.c)(M),c=Object(u.c)(I),a=Object(u.c)(B),s=Object(u.c)(A),l=Object(u.c)(P),b=Object(u.b)(),j=Object(n.useRef)(null);function m(e){var r=e.currentTarget.id,n=t.find((function(e){return e.id===r}));b(q(Object(d.a)({},n)))}return Object(n.useEffect)((function(){var t={name:e,sortBy:c,after:""};"top"===c&&(t.time=a),b(w(t))}),[c,a]),G((function(t){var n=t.prevPos,o=t.currPos;if(o.y<n.y&&-1*o.y+2*window.innerHeight>j.current.clientHeight&&"loading"!==s&&null!==r){var i={name:e,sortBy:c,after:r};"top"===c&&(i.time=a),b(w(i))}}),[s,r,c,a]),t.length?Object(X.jsxs)("section",{className:"search-page",ref:j,children:[Object(X.jsx)(K,{}),Object(X.jsx)("div",{className:"articles-list",children:t.map((function(t){return Object(X.jsx)(o.b,{to:"/r/".concat(e,"/comments/").concat(t.id),id:t.id,className:"article-link",onClick:m,children:Object(X.jsx)(se,{articleId:t.id,title:t.title,author:t.author,num_comments:t.num_comments,created:t.created_utc,ups:t.ups,likes:t.likes})},t.id)}))}),"loading"===s&&Object(X.jsx)(de,{}),Object(X.jsx)(oe,{})]}):Object(X.jsx)("section",{className:"search-page search-page__error",ref:j,children:Object(X.jsx)("p",{className:"error-msg",children:l})})};r(40);var le=function(){var e=Object(i.g)(),t=e.subreddit,r=e.articleId,c=Object(u.c)(J),a=Object(u.c)(z),s=Object(u.c)($),o=Object(u.b)();return Object(n.useEffect)((function(){c.id||o(R({articleId:r,subreddit:t}))}),[r]),"loading"===s?Object(X.jsx)(ie,{}):Object(X.jsxs)("section",{className:"article-page"+(c.id?"":" article-page__error"),children:[c.id?Object(X.jsx)(se,Object(d.a)(Object(d.a)({},c),{},{articleId:c.id,videoSrc:c.media&&c.media.reddit_video?c.media.reddit_video.fallback_url:""})):Object(X.jsx)("p",{className:"error-msg",children:a}),Object(X.jsx)(oe,{})]})};r(41);var be=function(){var e=Object(n.useState)(""),t=Object(Q.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(!1),s=Object(Q.a)(a,2),o=s[0],d=s[1];return o?Object(X.jsx)(i.a,{to:"/r/".concat(r)}):Object(X.jsx)("section",{className:"home-page",children:Object(X.jsxs)("div",{className:"home-page--content",children:[Object(X.jsx)("h1",{children:"Welcome to Subreddit App"}),Object(X.jsx)("p",{className:"home-page--msg",children:"Please select a subreddit"}),Object(X.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(!0)},className:"home-page--form",children:[Object(X.jsx)("input",{type:"text",placeholder:"e.g. dota2",name:"subreddit-name",value:r,onChange:function(e){return c(e.target.value)},className:"search-input",required:!0}),Object(X.jsx)("button",{type:"submit",className:"search-button",children:Object(X.jsx)("i",{className:"material-icons",children:"search"})})]})]})})},je=Object(m.b)("subredditInfo/fetchInfo",function(){var e=Object(j.a)(b.a.mark((function e(t){var r,n,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=void 0===r?"":r,c=g.about(n),e.next=4,c.fetch();case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),me=Object(m.c)({name:"subredditInfo",initialState:{title:"",primary_color:"",banner_background_color:"",banner_img:"",banner_height:0,status:"unload"},reducers:{},extraReducers:function(e){e.addCase(je.pending,(function(e){e.aboutStatus="loading"})).addCase(je.fulfilled,(function(e,t){e.aboutStatus="loaded",t.payload&&(e.title=t.payload.title,e.primary_color=t.payload.primary_color||t.payload.key_color,e.banner_background_color=t.payload.banner_background_color,e.banner_img=t.payload.banner_img,e.banner_height=t.payload.banner_size?t.payload.banner_size[1]:0)}))}}),fe=me.actions,pe=(fe.updateArticleVote,fe.updateSortBy,fe.updateSortTime,function(e){return e.subredditInfo.title}),he=function(e){return e.subredditInfo.primary_color},Oe=function(e){return e.subredditInfo.banner_background_color},ve=function(e){return e.subredditInfo.banner_img},xe=function(e){return e.subredditInfo.banner_height},ge=function(e){return e.subredditInfo.status},ye=me.reducer;function we(e){var t=e.indexOf("#")>-1?function(e){var t=0,r=0,n=0;return 4===e.length?(t="0x"+e[1]+e[1],r="0x"+e[2]+e[2],n="0x"+e[3]+e[3]):7===e.length&&(t="0x"+e[1]+e[2],r="0x"+e[3]+e[4],n="0x"+e[5]+e[6]),{r:t,g:r,b:n}}(e):function(e){var t=(e=(e=e.substr(e.indexOf("(")+1)).substr(0,e.length-1)).split(","),r=Object(Q.a)(t,3);return{r:r[0],g:r[1],b:r[2]}}(e);return.299*t.r+.587*t.g+.114*t.b>186?"#1a1a1b":"#ffffff"}r(42);var _e=function(){var e=Object(i.g)(),t=e.subreddit,r=e.articleId,c=Object(u.c)(ge),a=Object(u.c)(pe),s=Object(u.c)(he),d=Object(u.c)(Oe),l=Object(u.c)(ve),b=Object(u.c)(xe),j=Object(u.b)();Object(n.useEffect)((function(){"unload"===c&&j(je({name:t}))}),[]),document.documentElement.style.setProperty("--primary-color",s),document.documentElement.style.setProperty("--banner-bg-color",d);var m={background:l?"url(".concat(l,") no-repeat center / cover"):""};return b&&(r?m.height=b/2:m.paddingTop=b/2),Object(X.jsxs)("header",{className:r?"subreddit-link":"subreddit-header",style:m,children:[Object(X.jsx)(o.b,{to:"/",children:Object(X.jsx)("i",{className:"material-icons home-icon",children:"home"})}),r?Object(X.jsxs)(o.b,{to:"/r/".concat(t,"/"),style:{color:d?we(d):"#1c1c1c"},children:[Object(X.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",className:"subreddit-link-icon",children:Object(X.jsx)("path",{d:"M15.8286,15.8998 C15.3466,16.3788 12.6326,15.5598 8.5516,11.4798 C4.4706,7.3968 3.6486,4.6858 4.1316,4.2038 C4.3566,3.9788 4.9286,3.9208 5.9126,4.3518 C5.6166,4.5678 5.3306,4.8008 5.0666,5.0658 C5.0536,5.0798 5.0416,5.0948 5.0266,5.1098 C5.5756,6.4268 6.8946,8.4088 9.2596,10.7728 C11.6206,13.1338 13.6046,14.4538 14.9246,15.0028 C14.9376,14.9898 14.9526,14.9778 14.9666,14.9638 C15.2316,14.6988 15.4646,14.4128 15.6786,14.1178 C16.1096,15.1028 16.0526,15.6748 15.8286,15.8998 M16.7526,11.8998 C17.4066,9.5458 16.8136,6.9138 14.9666,5.0658 C13.6436,3.7438 11.8866,3.0148 10.0166,3.0148 C9.3686,3.0148 8.7356,3.1078 8.1286,3.2768 C5.7306,1.7598 3.9176,1.5898 2.7176,2.7898 C1.4036,4.1028 2.0736,6.1918 3.2866,8.1688 C2.6446,10.5128 3.2276,13.1258 5.0666,14.9638 C6.3886,16.2868 8.1456,17.0148 10.0166,17.0148 C10.6536,17.0148 11.2746,16.9178 11.8736,16.7518 C13.0856,17.4938 14.3406,18.0318 15.4316,18.0318 C16.1156,18.0318 16.7366,17.8198 17.2426,17.3138 C18.4416,16.1138 18.2706,14.2988 16.7526,11.8998"})}),Object(X.jsx)("span",{className:"subreddit-name",children:t})]}):Object(X.jsxs)("div",{className:"subrredit-info",children:[Object(X.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",className:"subreddit-icon",children:Object(X.jsx)("path",{d:"M16.5,2.924,11.264,15.551H9.91L15.461,2.139h.074a9.721,9.721,0,1,0,.967.785ZM8.475,8.435a1.635,1.635,0,0,0-.233.868v4.2H6.629V6.2H8.174v.93h.041a2.927,2.927,0,0,1,1.008-.745,3.384,3.384,0,0,1,1.453-.294,3.244,3.244,0,0,1,.7.068,1.931,1.931,0,0,1,.458.151l-.656,1.558a2.174,2.174,0,0,0-1.067-.246,2.159,2.159,0,0,0-.981.215A1.59,1.59,0,0,0,8.475,8.435Z"})}),Object(X.jsx)("span",{className:"subreddit-title",children:a}),Object(X.jsxs)("span",{className:"subreddit-path",children:["r/",t]})]})]})};r(43);var Ne=function(){return Object(X.jsx)(o.a,{children:Object(X.jsx)("div",{className:"App",children:Object(X.jsxs)(i.d,{children:[Object(X.jsx)(i.b,{exact:!0,path:"/subreddit",children:Object(X.jsx)(be,{})}),Object(X.jsx)(i.b,{exact:!0,path:"/",children:Object(X.jsx)(be,{})}),Object(X.jsxs)(i.b,{path:"/r/:subreddit/comments/:articleId",children:[Object(X.jsx)(_e,{}),Object(X.jsx)(le,{})]}),Object(X.jsxs)(i.b,{path:"/r/:subreddit",children:[Object(X.jsx)(_e,{}),Object(X.jsx)(ue,{})]}),Object(X.jsx)(i.a,{from:"/:subreddit",to:"/r/:subreddit"})]})})})},Ce=Object(m.a)({reducer:{subreddit:E,subredditInfo:ye,selectedArticle:U}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(X.jsx)(c.a.StrictMode,{children:Object(X.jsx)(u.a,{store:Ce,children:Object(X.jsx)(Ne,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.40b4d5d9.chunk.js.map